**AfterPacketCallback** - Registers a callback, that will be called when packet pushed into output buffer (and may be sended to destination).

---


**AfterPacketCallback** - Регистрирует коллбэк, который будет вызван как только пакет попадет в исходящий буффер (и возможно уже отправится к получателю).

## Синтаксис ##
```
procedure AfterPacketCallback(
	ACallBack: TPacketSendedCallback;
	lParam: Pointer
) stdcall;
```
## Параметры ##
ACallBack
  * **Тип**: T[PacketSendedCallback](PacketSendedCallback.md)
  * **Описание**: Адрес процедуры-коллбека.
lParam
  * **Тип**: Pointer
  * **Описание**: Параметр, который будет передан в процедуру-коллбек.
## Замечания ##
Регистрирует процедуру-коллбек, которая будет вызвана сразу после того, как текущий (в случае вызова в [PacketHandler](PacketHandler.md)'е) или первый будущий (в других случаях) пакет будет отправлен получателю.

Коллбек вызывается только один раз, после этого его надо перерегистрировать. Коллбек глобален для каждого из плагинов. Если коллбек уже установлен, то следующий вызов данной процедуры перезапишет адрес коллбека и передаваемый параметр. На данный момент, UOExt гарантирует, что между вызовом [PacketHandler](PacketHandler.md)'а и [PacketSendedCallback](PacketSendedCallback.md) не будет никаких других вызовов, в случае если в [PacketHandler](PacketHandler.md) был зарегистрирован коллбек.

Во время вызова [PacketSendedCallback](PacketSendedCallback.md) пакет уже находится в исходящем буфере, а, может-быть, уже отослан получателю (на текущий момент (15.06.2011) в DEBUG режиме пакеты отправляются сразу после их занесения в исходящий буфер, в то время, как в RELEASE режиме пакеты отправляются сразу после обработки всего входящего буфера).
## Требования ##
Вызов процедуры необходимо делать в потоке прокси-сервера
## Пример ##